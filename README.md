# [The-Labot] GitHub 협업 가이드

이 문서는 팀원들이 GitHub를 이용해 효율적으로 협업하기 위한 규칙을 정리한 문서입니다.  
모든 작업은 **Issue → Branch → Commit → PR → Review → Merge** 순서로 진행합니다.

---

## 1. 기본 원칙

- `main` 브랜치는 배포용입니다. 직접 수정하지 않습니다.
- 모든 작업은 **이슈 생성 → 브랜치 생성 → 커밋 → PR 요청 → 리뷰 후 머지** 순서로 진행합니다.
- 하나의 이슈당 하나의 브랜치와 PR을 사용합니다.
- 팀원 중 최소 한 명의 승인을 받아야 머지할 수 있으며, 본인은 자신의 PR을 승인할 수 없습니다.
- 강제 푸시는 허용되지 않습니다. (--force 사용 금지)
- **⚠️ 작업 시작 전 반드시 `git pull origin main`으로 최신 코드를 받아주세요.**
- **⚠️ push하기 전에 반드시 Docker 환경에서 테스트해주세요.**

---

## 2. 이슈 (Issue)

Task Template 선택 후 작성해주시고, 작업자에게 Assignee를 할당해주세요.

### 작성 규칙

**제목 예시**
```
[FEAT] 로그인 기능 구현
[FIX] 회원가입 오류 수정
[DOCS] README 수정
[STYLE] 버튼 색상 변경
[TEST] 단위 테스트 추가
```
> [타입]을 꼭 붙여야 자동으로 라벨링 됩니다.

**본문 예시**
```
## 📋 작업 내용

로그인 기능 구현

## ✅ 체크리스트

- [ ] 로그인 API 엔드포인트 생성 (POST /api/login)
- [ ] 사용자 인증 로직 구현 (ID/PW 검증)
- [ ] 비밀번호 암호화(Bcrypt 등) 적용
- [ ] 로그인 실패 시 에러 응답 처리
- [ ] 로그인 관련 예외 처리 (비활성화 계정, 잘못된 비밀번호 등)

## 📝 참고 사항

- 관련 이슈: #42
- Bcrypt 라운드: 10 (성능과 보안 균형 고려)
- 로그인 실패 5회 시 10분간 계정 잠금 처리
- JWT 토큰 만료 시간: 1시간
- 테스트 계정: test@example.com / Test1234!
- API 명세서: [Notion 링크]
- ⚠️ 보안 관련 로직이므로 세밀한 리뷰 부탁드립니다
- 소셜 로그인(OAuth)은 #45 이슈에서 별도 구현 예정
```

---

## 3. 브랜치 (Branch)

### 네이밍 규칙
```
<type>/<issue-number>-<short-description>
```

### 예시
```
feat/3-login-function
fix/10-password-error
docs/5-readme-update
test/7-pr-template-test
```

> 띄어쓰기 금지, 단어는 `-`(하이픈)으로 구분  
> 주요 타입은 아래 표를 참고

---

## 4. 커밋 (Commit)

### 메시지 규칙
```
type: 간단한 설명
```

### 예시
```
feat: 로그인 API 연결
fix: 비밀번호 검증 로직 수정
docs: 협업 규칙 추가
```

### 커밋 타입 표

> 커밋 메시지, 브랜치명, 이슈 및 PR 제목 작성 시 아래 타입을 참고하세요.

| 타입 이름 | 내용 |
|------------|---------------------------------------------|
| feat | 새로운 기능에 대한 커밋 |
| fix | 버그 수정에 대한 커밋 |
| build | 빌드 관련 파일 수정 / 모듈 설치 또는 삭제에 대한 커밋 |
| chore | 그 외 자잘한 수정에 대한 커밋 |
| ci | CI 관련 설정 수정에 대한 커밋 |
| docs | 문서 수정에 대한 커밋 |
| style | 코드 스타일 혹은 포맷 등에 관한 커밋 |
| refactor | 코드 리팩토링에 대한 커밋 |
| test | 테스트 코드 수정에 대한 커밋 |

---

## 5. Pull Request (PR)

### PR 제목
```
[타입] 작업 내용 요약 #이슈번호
```

### 예시
```
[FEAT] 로그인 기능 구현 #15
```

### PR 본문 템플릿
```
## #️⃣연관된 이슈

#15

## 📝작업 내용

- 로그인 API 엔드포인트 생성
- 사용자 인증 로직 구현
- 비밀번호 암호화
- 로그인 실패 시 에러 응답 처리
- 로그인 관련 예외 처리

### 스크린샷 (선택)

## 💬리뷰 요구사항(선택)

- 사용자 인증 로직의 보안성 검토 부탁드립니다.
- 예외 처리 부분에서 개선할 점이 있다면 피드백 부탁드립니다.
- 에러 메시지가 적절한지 확인 부탁드립니다.
```

---

## 6. 코드 리뷰 (Review)

- 최소 **1명 이상의 리뷰 승인** 후 머지 가능합니다.
- 리뷰어는 코드 확인 후 ✅ Approve 또는 💬 코멘트를 남깁니다.
- 새 커밋이 푸시되면 기존 리뷰는 자동 취소됩니다 (자동 dismiss 설정).

---

## 7. 머지 (Merge)

- 리뷰 승인 후 자동으로 `Squash and Merge`가 적용됩니다.
- Merge 시 커밋 메시지 끝에 `closes #이슈번호`를 포함하세요. 자동으로 해당 이슈를 닫습니다.
- Merge 후 작업한 브랜치는 삭제해주세요.

---

## 8. 전체 협업 흐름

```
1. Issue 생성
2. Branch 생성
3. Commit
4. Pull Request 생성
5. 코드 리뷰
6. Merge
```

---

## 11. 로컬 개발 환경 설정

로컬 MySQL 환경에서 Spring Boot를 실행하려면 아래 설정 파일을 직접 생성해야 합니다.
이 파일은 Git에 포함되지 않으며, 각자 로컬 환경에 맞게 설정합니다.

- 파일 생성 경로
```
src/main/resources/application-local.yaml
```

- 설정 파일 기본 형식 (application-local.yaml)
```
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/{본인_DB_이름}
    username: {본인_DB_아이디}
    password: {본인_DB_비밀번호}
    driver-class-name: com.mysql.cj.jdbc.Driver
```

---

## 10. 도커 개발 환경 실행

- 컨테이너 실행
```
docker-compose up -d --build
```

- 컨테이너 종료
```
docker-compose down
```

- 로컬 환경에서 컨테이너 MySQL 접속 시 3307 포트 사용

---

## 11. 참고 자료

- [마크다운(markdown) 작성법](https://gist.github.com/ihoneymon/652be052a0727ad59601)

---
